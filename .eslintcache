[{"D:\\Portfolio\\whatsapp\\src\\index.js":"1","D:\\Portfolio\\whatsapp\\src\\App.js":"2","D:\\Portfolio\\whatsapp\\src\\reportWebVitals.js":"3","D:\\Portfolio\\whatsapp\\src\\SideBar.js":"4","D:\\Portfolio\\whatsapp\\src\\SideBarChat.js":"5","D:\\Portfolio\\whatsapp\\src\\ChatBox.js":"6","D:\\Portfolio\\whatsapp\\src\\Login.js":"7","D:\\Portfolio\\whatsapp\\src\\firebase.js":"8"},{"size":500,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":2369,"mtime":1610388091310,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"10"},{"size":3297,"mtime":1610371985826,"results":"13","hashOfConfig":"10"},{"size":537,"mtime":1610372030657,"results":"14","hashOfConfig":"10"},{"size":2499,"mtime":1610372260710,"results":"15","hashOfConfig":"10"},{"size":939,"mtime":1610390465668,"results":"16","hashOfConfig":"10"},{"size":491,"mtime":1610389838689,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"14hu345",{"filePath":"21","messages":"22","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"20"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"20"},"D:\\Portfolio\\whatsapp\\src\\index.js",[],["40","41"],"D:\\Portfolio\\whatsapp\\src\\App.js",["42","43","44","45","46","47"],"\nimport './App.css'\nimport ChatBox from './ChatBox'\nimport SideBar from './SideBar'\n//import './firebase'\nimport Pusher from 'pusher-js'\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Login from './Login';\n\nfunction App() {\nconst[messages,setMessages]=useState([]);\nconst [currRoom,setcurrRoom]=useState();\nconst [userName,setName]=useState('')\nconst [user,setUser]=useState(null)\nconst [disable,setDisable]=useState(true)\n\nconst changeRoom=(name)=>{\n\n\n  setcurrRoom(name)\n}\nuseEffect(()=>{\n\n  const username=prompt('Please enter userName')\n  setName(username)\n // console.log(userName);\n\n},[])\n\n  useEffect(()=>{\n   // console.log('api called');\n    axios.get(\"http://localhost:8080/get\").then(res=>{\n        \n        let m=[...messages,res.data]\n        m.forEach((message)=>{\n          if(message.name!=userName)\n          message.received=true;\n          else\n          message.received=false;\n         \n         \n      })\n\n      setMessages(m)\n\n    }).catch(e=>{\n      console.log(e.message);\n    })\n  },[])\n  \n  useEffect(()=>{\n\n   \n  \n  },[messages])\n  useEffect(() => {\n //   console.log('subscriber created');\n    const pusher = new Pusher('3e888fccfeb395bd6cc6', {\n      cluster: 'ap2'\n    });\n  \n    const channel = pusher.subscribe('chat');\n    channel.bind('addMessage', function(data) {\n     // alert(JSON.stringify(data));\n      let m=[...messages,data]\n      m.forEach((message)=>{\n        if(message.name!=userName)\n        message.received=true;\n        else\n        message.received=false;\n       \n       \n    })\n    setMessages(m)\n    });\n\n  //   messages.forEach((messs,index)=>{\n        \n  //     if(messs.name!=userName)\n  //     messs.received=false;\n  //     else\n  //     messs.received=true;\n\n  //     messages[index]=messs\n  // })\n    return ()=>{\n      channel.unbind_all();\n      channel.unsubscribe();\n    //  console.log('unsubscribed');\n    }\n    \n \n    \n  }, [messages])\n\n//  console.log(messages);\n\n  return (\n    <div className=\"App\">\n      \n      {\n        user ? (<div className=\"app_body\">\n          <h1>LetsChat</h1><h5>Thats all we do</h5>\n        <SideBar currRoom={changeRoom}></SideBar>\n            <ChatBox  room={currRoom} username={userName} messages={messages} disable={disable}  />\n        </div>):(<div><Login></Login></div>)\n      }\n      \n    </div>\n  );\n}\n\nexport default App;\n","D:\\Portfolio\\whatsapp\\src\\reportWebVitals.js",[],"D:\\Portfolio\\whatsapp\\src\\SideBar.js",["48","49","50","51","52","53","54"],"import { Avatar, IconButton } from '@material-ui/core'\r\nimport { AddAlert, Chat, DonutLarge, MoreVert, SearchOutlined } from '@material-ui/icons'\r\nimport React, { useEffect, useState } from 'react'\r\nimport SideBarChat from './SideBarChat'\r\nimport './sidebar.css'\r\nimport axios from 'axios'\r\nimport Pusher from 'pusher-js'\r\nimport {Dots, Sentry, Spinner} from 'react-activity';\r\nimport { render } from 'react-dom';\r\nimport 'react-activity/dist/react-activity.css';\r\nfunction SideBar({currRoom}) {\r\n\r\n    const change=(name)=>{\r\n        currRoom(name)\r\n    }\r\n    const [rooms,setRooms]=useState([])\r\n    const [loaded,setLoaded]=useState(false)\r\n    const[counter,setCounter]=useState(0);\r\n    useEffect(()=>{\r\n\r\n        \r\n        axios.get('http://localhost:8080/getRooms')\r\n        .then(res=>{\r\n            setRooms(res.data)\r\n            setLoaded(true)\r\n            change(res.data.reverse()[0].name)\r\n\r\n            \r\n        }).catch(e=>{\r\n            console.log(e);\r\n        })\r\n\r\n        \r\n     //   console.log('dd');\r\n    },[])\r\n         \r\n\r\n\r\n    useEffect(() => {\r\n     //   console.log('subscriber created');\r\n        const pusher = new Pusher('3e888fccfeb395bd6cc6', {\r\n          cluster: 'ap2'\r\n        });\r\n      \r\n        const channel = pusher.subscribe('room');\r\n        channel.bind('addRoom', function(data) {\r\n          //alert(JSON.stringify(data));\r\n         \r\n          setRooms([...rooms,data].reverse());\r\n        });\r\n       // console.log(rooms);\r\n        return ()=>{\r\n          channel.unbind_all();\r\n          channel.unsubscribe();\r\n       //   console.log('unsubscribed');\r\n        }\r\n        \r\n       \r\n      }, [rooms])\r\n\r\n\r\n   const createChat=()=>{\r\n       const roomName=prompt('Enter Room Name');\r\n       if(roomName){\r\n           //call api \r\n           axios.post('http://localhost:8080/addRoom',{\r\n               name:roomName\r\n           }).then(res=>{})\r\n           .catch(e=>console.log(e))\r\n       }\r\n       \r\n   }\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n         \r\n            <div className=\"sidebarhead\">\r\n             <Avatar></Avatar>\r\n             <div className=\"sidebarrightheader\">\r\n                 <IconButton><DonutLarge></DonutLarge></IconButton>\r\n                 \r\n                <IconButton> <Chat></Chat></IconButton>\r\n                <IconButton> <MoreVert></MoreVert></IconButton>\r\n             </div>\r\n             \r\n            </div>\r\n            <div className=\"sidebarsearch\">\r\n                <div className=\"searchContainer\">\r\n                <SearchOutlined></SearchOutlined>\r\n                <input type=\"text\" placeholder=\"Search Chat or start a new one\"></input>\r\n                </div>\r\n              \r\n            </div>\r\n            <div  onClick={createChat} className=\"whole\" >\r\n            <h2>Add new Chat</h2>\r\n        </div>\r\n            <div  className=\"sidebarchat\">\r\n           \r\n           {\r\n        \r\n            !loaded ? <div className=\"roller\"><Spinner /></div> : <div>\r\n                {  rooms.map((room)=>(\r\n                    <div onClick={()=>change(room.name)}> <SideBarChat   room={room}/></div>\r\n                 ))\r\n                }\r\n               </div>\r\n             }\r\n               \r\n          \r\n\r\n              </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SideBar\r\n","D:\\Portfolio\\whatsapp\\src\\SideBarChat.js",["55","56"],"import { Avatar } from '@material-ui/core'\r\nimport React, { useEffect } from 'react'\r\nimport './chat.css'\r\nfunction SidebarChat({room,currRoom}) {\r\n \r\n    const createChat=()=>{\r\n      const name=prompt(\"Please enter chat name\")\r\n      if(name){\r\n          alert('done')\r\n      }\r\n    }\r\n    \r\n   \r\n    \r\n    return (\r\n        <div className=\"whole\" >\r\n           <div className=\"chatbox\"> <Avatar/><h2>{room.name}</h2>\r\n          \r\n           </div>\r\n           <p>hello</p>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default SidebarChat\r\n","D:\\Portfolio\\whatsapp\\src\\ChatBox.js",["57","58","59","60"],"import { Avatar, IconButton } from '@material-ui/core'\r\nimport { AttachFileOutlined, InsertEmoticon, Mic, MoreVert, Search, VoiceChat } from '@material-ui/icons'\r\nimport axios from 'axios'\r\nimport React, { useEffect , useState} from 'react'\r\nimport './chatbox.css'\r\nfunction ChatBox({messages,room,username,disable}) {\r\n\r\n    const [mess,setMess]=useState('');\r\n    \r\nconst sendMessage=()=>{\r\n   // alert('sent')\r\n   //alert(room)\r\n   if(room==undefined){\r\n       alert('Please create a room on the left to start chatting OR select the new chat created')\r\n   }\r\n   else{\r\n    axios.post('http://localhost:8080/add',{\r\n  \r\n        \"message\": mess,\r\n        \"name\": username,\r\n        \"received\": false,\r\n        \"room\": room,\r\n        \"timeStamp\": new Date().toLocaleTimeString()\r\n      })\r\n    }\r\n}\r\n\r\nconst change=(e)=>{\r\nsetMess(e.target.value)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div class='wholechat'>\r\n            {username}\r\n            <div className=\"chatHeader\">\r\n                <Avatar className=\"icon\"></Avatar>\r\n                <div><h1>{room}</h1>\r\n                <p>Last Seen today</p>\r\n                </div>\r\n                <div className=\"chatheaderright\">\r\n                   \r\n                   <IconButton>\r\n                       <Search></Search>\r\n                   </IconButton>\r\n                   <IconButton><AttachFileOutlined/></IconButton> \r\n                   <IconButton><MoreVert></MoreVert></IconButton>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"chatWindow\">\r\n              {\r\n                messages.filter(m=>m.room==room).map(mess=>(\r\n                  <div className={\"all \"+(mess.received?'none':'receive')}> <div className=\"chatname\">{mess.name } </div> \r\n                  <div className=\"message\">  \r\n                   {mess.message}\r\n                    <div className=\"timestamp\"> {mess.timeStamp}</div>\r\n                    </div>\r\n                    </div> \r\n                ))\r\n              }\r\n             \r\n         \r\n                  \r\n                  \r\n                   \r\n                \r\n           </div>\r\n            <div className=\"typer\">\r\n                <IconButton><InsertEmoticon></InsertEmoticon></IconButton>\r\n                <input type=\"text\" placeholder=\"Type a message\" onChange={change} ></input>\r\n                <button  onClick={sendMessage}>Send </button>\r\n                <IconButton> <Mic></Mic></IconButton>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatBox\r\n","D:\\Portfolio\\whatsapp\\src\\Login.js",["61","62","63","64"],"D:\\Portfolio\\whatsapp\\src\\firebase.js",["65"],"var firebase = require('firebase');\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCYxxc03AptZbfxMoUwtYxFK5muN6S3xLA\",\r\n    authDomain: \"letschat-2659c.firebaseapp.com\",\r\n    projectId: \"letschat-2659c\",\r\n    storageBucket: \"letschat-2659c.appspot.com\",\r\n    messagingSenderId: \"757844850455\",\r\n    appId: \"1:757844850455:web:a312bbd0d8e1ef5650a952\"\r\n  };\r\n\r\n\r\nconst fb=firebase.default.initializeApp(firebaseConfig)\r\n\r\n// const auth=firebase.default.auth()\r\n \r\n\r\n//  export {auth,provider}",{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":15,"column":13,"nodeType":"72","messageId":"73","endLine":15,"endColumn":20},{"ruleId":"70","severity":1,"message":"74","line":16,"column":16,"nodeType":"72","messageId":"73","endLine":16,"endColumn":26},{"ruleId":"75","severity":1,"message":"76","line":37,"column":26,"nodeType":"77","messageId":"78","endLine":37,"endColumn":28},{"ruleId":"79","severity":1,"message":"80","line":50,"column":5,"nodeType":"81","endLine":50,"endColumn":7,"suggestions":"82"},{"ruleId":"75","severity":1,"message":"76","line":68,"column":24,"nodeType":"77","messageId":"78","endLine":68,"endColumn":26},{"ruleId":"79","severity":1,"message":"83","line":95,"column":6,"nodeType":"81","endLine":95,"endColumn":16,"suggestions":"84"},{"ruleId":"70","severity":1,"message":"85","line":2,"column":10,"nodeType":"72","messageId":"73","endLine":2,"endColumn":18},{"ruleId":"70","severity":1,"message":"86","line":8,"column":9,"nodeType":"72","messageId":"73","endLine":8,"endColumn":13},{"ruleId":"70","severity":1,"message":"87","line":8,"column":15,"nodeType":"72","messageId":"73","endLine":8,"endColumn":21},{"ruleId":"70","severity":1,"message":"88","line":9,"column":10,"nodeType":"72","messageId":"73","endLine":9,"endColumn":16},{"ruleId":"70","severity":1,"message":"89","line":18,"column":11,"nodeType":"72","messageId":"73","endLine":18,"endColumn":18},{"ruleId":"70","severity":1,"message":"90","line":18,"column":19,"nodeType":"72","messageId":"73","endLine":18,"endColumn":29},{"ruleId":"79","severity":1,"message":"91","line":35,"column":7,"nodeType":"81","endLine":35,"endColumn":9,"suggestions":"92"},{"ruleId":"70","severity":1,"message":"93","line":2,"column":17,"nodeType":"72","messageId":"73","endLine":2,"endColumn":26},{"ruleId":"70","severity":1,"message":"94","line":6,"column":11,"nodeType":"72","messageId":"73","endLine":6,"endColumn":21},{"ruleId":"70","severity":1,"message":"95","line":2,"column":69,"nodeType":"72","messageId":"73","endLine":2,"endColumn":78},{"ruleId":"70","severity":1,"message":"93","line":4,"column":17,"nodeType":"72","messageId":"73","endLine":4,"endColumn":26},{"ruleId":"75","severity":1,"message":"96","line":13,"column":11,"nodeType":"77","messageId":"78","endLine":13,"endColumn":13},{"ruleId":"75","severity":1,"message":"96","line":56,"column":42,"nodeType":"77","messageId":"78","endLine":56,"endColumn":44},{"ruleId":"70","severity":1,"message":"97","line":3,"column":10,"nodeType":"72","messageId":"73","endLine":3,"endColumn":14},{"ruleId":"70","severity":1,"message":"98","line":3,"column":16,"nodeType":"72","messageId":"73","endLine":3,"endColumn":24},{"ruleId":"99","severity":1,"message":"100","line":21,"column":13,"nodeType":"101","endLine":21,"endColumn":92},{"ruleId":"99","severity":1,"message":"100","line":23,"column":10,"nodeType":"101","endLine":23,"endColumn":124},{"ruleId":"70","severity":1,"message":"102","line":13,"column":7,"nodeType":"72","messageId":"73","endLine":13,"endColumn":9},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"no-unused-vars","'setUser' is assigned a value but never used.","Identifier","unusedVar","'setDisable' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'messages' and 'userName'. Either include them or remove the dependency array.","ArrayExpression",["105"],"React Hook useEffect has a missing dependency: 'userName'. Either include it or remove the dependency array.",["106"],"'AddAlert' is defined but never used.","'Dots' is defined but never used.","'Sentry' is defined but never used.","'render' is defined but never used.","'counter' is assigned a value but never used.","'setCounter' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'change'. Either include it or remove the dependency array.",["107"],"'useEffect' is defined but never used.","'createChat' is assigned a value but never used.","'VoiceChat' is defined but never used.","Expected '===' and instead saw '=='.","'auth' is defined but never used.","'provider' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'fb' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"108","fix":"109"},{"desc":"108","fix":"110"},{"desc":"111","fix":"112"},"Update the dependencies array to be: [messages, userName]",{"range":"113","text":"114"},{"range":"115","text":"114"},"Update the dependencies array to be: [change]",{"range":"116","text":"117"},[1048,1050],"[messages, userName]",[1932,1942],[1034,1036],"[change]"]